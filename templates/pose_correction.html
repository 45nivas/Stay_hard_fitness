{% extends 'base.html' %}

{% block title %}Pose Correction - Stay Hard Fitness{% endblock %}

{% block content %}
<div class="pose-correction-page">
    <div class="page-header">
        <div class="header-content">
            <h1>Pose Correction</h1>
            <p class="page-description">AI-powered real-time form analysis and rep counting for perfect workouts</p>
        </div>
        <div class="header-features">
            <div class="feature-item">
                <span class="feature-icon">🤖</span>
                <span class="feature-text">AI Detection</span>
            </div>
            <div class="feature-item">
                <span class="feature-icon">📊</span>
                <span class="feature-text">Form Analysis</span>
            </div>
            <div class="feature-item">
                <span class="feature-icon">🔔</span>
                <span class="feature-text">Real-time Feedback</span>
            </div>
        </div>
    </div>

    <div class="exercises-section">
        <h2>Available Exercises</h2>
        
        {% if pose_exercises %}
            <div class="exercise-grid">
                {% for exercise_key, exercise in pose_exercises.items %}
                    <a href="{% url 'workout_page' exercise_key %}" class="exercise-card">
                        <div class="card-header">
                            <div class="exercise-icon">
                                {% if exercise.name == 'Squats' %}🦵
                                {% elif exercise.name == 'Push-ups' %}💪
                                {% elif exercise.name == 'Bicep Curls' %}💪
                                {% elif exercise.name == 'Hammer Curls' %}🔨
                                {% elif exercise.name == 'Side Raises' %}🏋️
                                {% else %}💪
                                {% endif %}
                            </div>
                            <div class="exercise-info">
                                <h3>{{ exercise.name }}</h3>
                                <span class="difficulty-badge {{ exercise.difficulty|lower }}">{{ exercise.difficulty }}</span>
                            </div>
                        </div>
                        
                        <div class="card-content">
                            <p class="exercise-description">{{ exercise.description }}</p>
                            
                            <div class="muscle-targets">
                                <span class="label">Target Muscles:</span>
                                <div class="muscle-list">
                                    {% for muscle in exercise.muscles %}
                                        <span class="muscle-tag">{{ muscle }}</span>
                                    {% endfor %}
                                </div>
                            </div>
                            
                            <div class="features-list">
                                <div class="feature">
                                    <span class="check-icon">✅</span>
                                    <span>Real-time form analysis</span>
                                </div>
                                <div class="feature">
                                    <span class="check-icon">✅</span>
                                    <span>Automatic rep counting</span>
                                </div>
                                <div class="feature">
                                    <span class="check-icon">✅</span>
                                    <span>Instant corrections</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-footer">
                            <div class="start-btn">
                                <span class="btn-icon">🎯</span>
                                <span>Start Analysis</span>
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-icon">😔</div>
                <h3>No Exercises Available</h3>
                <p>Pose correction exercises are currently being updated. Check back soon!</p>
                <a href="{% url 'workout_selection' %}" class="btn btn-outline">← Back to All Workouts</a>
            </div>
        {% endif %}
    </div>

    <div class="how-it-works">
        <h2>How It Works</h2>
        <div class="steps-grid">
            <div class="step">
                <div class="step-number">1</div>
                <h3>Camera Setup</h3>
                <p>Allow camera access and position yourself in the frame</p>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <h3>AI Analysis</h3>
                <p>Our AI tracks your body position and movement in real-time</p>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <h3>Get Feedback</h3>
                <p>Receive instant corrections and rep counting</p>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <h3>Improve Form</h3>
                <p>Perfect your technique with continuous guidance</p>
            </div>
        </div>
    </div>

    <div class="page-footer">
        <a href="{% url 'workout_selection' %}" class="footer-btn secondary">
            <span class="btn-icon">←</span>
            <span>Back to Workouts</span>
        </a>
        <a href="{% url 'posture_analysis' %}" class="footer-btn primary">
            <span class="btn-icon">📊</span>
            <span>View History</span>
        </a>
    </div>
</div>
{% endblock %}
