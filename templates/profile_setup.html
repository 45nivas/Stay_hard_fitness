{% extends 'base.html' %}

{% block title %}Profile Setup - Stay Hard Fitness{% endblock %}

{% block content %}
<div class="profile-setup-page">
    <div class="profile-container">
        <div class="profile-header">
            <div class="header-icon">üë§</div>
            <h1>Fitness Profile</h1>
            <p class="header-description">Set up your profile to get personalized AI-powered fitness guidance</p>
        </div>
        
        <form method="post" class="profile-form">
            {% csrf_token %}
            
            <!-- Personal Information Section -->
            <div class="form-section">
                <div class="section-header">
                    <h2>Personal Information</h2>
                    <span class="section-icon">üìã</span>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="{{ form.age.id_for_label }}" class="form-label">Age</label>
                        {{ form.age }}
                        {% if form.age.errors %}
                            <div class="error-message">{{ form.age.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.gender.id_for_label }}" class="form-label">Gender</label>
                        {{ form.gender }}
                        {% if form.gender.errors %}
                            <div class="error-message">{{ form.gender.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.height.id_for_label }}" class="form-label">Height (cm)</label>
                        {{ form.height }}
                        {% if form.height.errors %}
                            <div class="error-message">{{ form.height.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.weight.id_for_label }}" class="form-label">Weight (kg)</label>
                        {{ form.weight }}
                        {% if form.weight.errors %}
                            <div class="error-message">{{ form.weight.errors.0 }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Fitness Goals Section -->
            <div class="form-section">
                <div class="section-header">
                    <h2>Fitness Goals</h2>
                    <span class="section-icon">üéØ</span>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="{{ form.fitness_level.id_for_label }}" class="form-label">Fitness Level</label>
                        {{ form.fitness_level }}
                        {% if form.fitness_level.errors %}
                            <div class="error-message">{{ form.fitness_level.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.primary_goal.id_for_label }}" class="form-label">Primary Goal</label>
                        {{ form.primary_goal }}
                        {% if form.primary_goal.errors %}
                            <div class="error-message">{{ form.primary_goal.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="{{ form.available_time.id_for_label }}" class="form-label">Available Time (minutes/day)</label>
                        {{ form.available_time }}
                        <span class="help-text">How many minutes can you dedicate to working out daily?</span>
                        {% if form.available_time.errors %}
                            <div class="error-message">{{ form.available_time.errors.0 }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group full-width">
                        <label for="{{ form.calories_per_day.id_for_label }}" class="form-label">Daily Calorie Intake (Optional)</label>
                        {{ form.calories_per_day }}
                        <span class="help-text">Leave empty for AI estimation based on your stats</span>
                        {% if form.calories_per_day.errors %}
                            <div class="error-message">{{ form.calories_per_day.errors.0 }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Current Stats Section (if profile exists) -->
            {% if profile and profile.id %}
            <div class="form-section stats-section">
                <div class="section-header">
                    <h2>Current Stats</h2>
                    <span class="section-icon">üìä</span>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">BMI</div>
                        <div class="stat-value">{{ profile.bmi }}</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Category</div>
                        <div class="stat-value">{{ profile.bmi_category }}</div>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Form Actions -->
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    {% if profile and profile.id %}
                        <span class="btn-icon">üîÑ</span>
                        Update Profile
                    {% else %}
                        <span class="btn-icon">üöÄ</span>
                        Create Profile
                    {% endif %}
                </button>
                
                <a href="{% url 'workout_selection' %}" class="btn btn-outline">
                    <span class="btn-icon">‚Üê</span>
                    Back to Workouts
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
